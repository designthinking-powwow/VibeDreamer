
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibe Dreamer - æ•™å­¸å·¥å…·ç¶²é </title>
    <!-- å¼•å…¥åŸºç¤æ¨£å¼èˆ‡å­—é«” -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;900&family=Noto+Sans+TC:wght@400;900&display=swap" rel="stylesheet">
    
    <!-- ç©©å®šç‰ˆ React 18 è¼‰å…¥ -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel ç”¨æ–¼åœ¨ç€è¦½å™¨ç›´æ¥è§£æ JSX (æœ€é©åˆæ•™å­¸å·¥å…·å–®ä¸€æª”æ¡ˆä½¿ç”¨) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Inter', 'Noto Sans TC', sans-serif; background-color: #f8fafc; margin: 0; padding: 0; }
        .glass { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(12px); }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
        .floating { animation: float 3s ease-in-out infinite; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #c7d2fe; border-radius: 10px; }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.2.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0"
  }
}
</script>
</head>
<body>
    <div id="root">
        <!-- å‚™ç”¨è¼‰å…¥æç¤ºï¼šå¦‚æœ JS æ²’è·‘èµ·ä¾†ï¼Œä½¿ç”¨è€…æœƒçœ‹åˆ°é€™å€‹ -->
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; color: #6366f1;">
            <div style="text-align: center;">
                <h2 style="font-weight: 900;">Vibe Dreamer æ­£åœ¨å•Ÿå‹•...</h2>
                <p style="color: #94a3b8;">å¦‚æœé•·æ™‚é–“æ²’åæ‡‰ï¼Œè«‹æª¢æŸ¥æ‚¨çš„ç¶²è·¯é€£ç·šæˆ–æ›´æ›ç€è¦½å™¨ã€‚</p>
            </div>
        </div>
    </div>

    <!-- æŒ‡å®šä½¿ç”¨ babel è§£æ JSX -->
    <script type="text/babel">
        // å¾å…¨åŸŸè®Šæ•¸ä¸­å–å¾— React åŠŸèƒ½ (é€™æ˜¯æœ€ç©©å®šçš„ä½œæ³•)
        const { useState, useEffect, useCallback } = React;
        
        // å‹•æ…‹å¼•å…¥ Gemini SDK
        import { GoogleGenAI } from "https://esm.sh/@google/genai@^1.34.0";

        const ROLES_MAP = {
            'å…¨ç«¯å·¥ç¨‹å¸«': { label: 'è¬èƒ½é–‹ç™¼è€…', emoji: 'ğŸ§™â€â™‚ï¸' },
            'UIè¨­è¨ˆå¸«': { label: 'ç¾æ„Ÿå¤§å¸«', emoji: 'ğŸ¨' },
            'å‰ç«¯é–‹ç™¼è€…': { label: 'äº’å‹•é­”æ³•å¸«', emoji: 'âœ¨' },
            'ç”¢å“ç¶“ç†': { label: 'å‰µæ„å°èˆªå“¡', emoji: 'ğŸ—ºï¸' }
        };

        const COMMON_FEATURES = [
            { id: 'auth', label: 'å¸³è™Ÿç™»å…¥åŠŸèƒ½', emoji: 'ğŸ”‘' },
            { id: 'responsive', label: 'æ‰‹æ©Ÿé›»è…¦é€šç”¨', emoji: 'ğŸ“±' },
            { id: 'darkmode', label: 'é»‘å¤œæ¨¡å¼', emoji: 'ğŸŒ™' },
            { id: 'db', label: 'è³‡æ–™è‡ªå‹•å„²å­˜', emoji: 'ğŸ’¾' }
        ];

        const App = () => {
            const [showSettings, setShowSettings] = useState(false);
            const [customApiKey, setCustomApiKey] = useState(() => localStorage.getItem('vibe_dreamer_api_key') || '');
            const [progress, setProgress] = useState(0);
            const [form, setForm] = useState({ roles: ['å…¨ç«¯å·¥ç¨‹å¸«'], task: '', platform: 'Web ç¶²é ', style: 'æ¥µç°¡', features: '', selectedCommonFeatures: [], language: 'ç¹é«”ä¸­æ–‡' });
            const [generatedPrompt, setGeneratedPrompt] = useState('');
            const [copySuccess, setCopySuccess] = useState(false);

            useEffect(() => {
                let p = 0;
                if (form.task) p += 50;
                if (form.roles.length > 0) p += 25;
                if (form.features || form.selectedCommonFeatures.length > 0) p += 25;
                setProgress(p);
            }, [form]);

            useEffect(() => {
                const roleString = form.roles.map(r => ROLES_MAP[r]?.label || r).join(' èˆ‡ ');
                const features = [...form.selectedCommonFeatures.map(id => COMMON_FEATURES.find(f => f.id === id)?.label), form.features].filter(Boolean).join('ã€');
                const prompt = `ä½ ç¾åœ¨æ˜¯æˆ‘çš„å°ˆå±¬ ${roleString}ã€‚æˆ‘çš„é»å­æ˜¯ã€Œ${form.task || 'æˆ‘çš„å°ˆæ¡ˆ'}ã€ã€‚\né–‹ç™¼å¹³å°ï¼š${form.platform}\nè¨­è¨ˆé¢¨æ ¼ï¼š${form.style}\nåŠŸèƒ½éœ€æ±‚ï¼š${features || 'åŸºæœ¬é‚è¼¯'}\nè«‹ç”¨å–®ä¸€ index.html æª”æ¡ˆå¯¦ä½œï¼Œä½¿ç”¨ Tailwind CSSï¼Œä¸¦ç”¨${form.language}å›è¦†ã€‚`;
                setGeneratedPrompt(prompt);
            }, [form]);

            return (
                <div className="min-h-screen pb-20 bg-slate-50">
                    <div className="fixed top-0 left-0 w-full h-2 bg-slate-200 z-[100]">
                        <div className="h-full bg-indigo-600 transition-all duration-700" style={{ width: `${progress}%` }}></div>
                    </div>

                    <button onClick={() => setShowSettings(true)} className="fixed top-6 right-6 z-[90] p-4 bg-white rounded-2xl shadow-xl border border-slate-100 hover:scale-105 transition-all">âš™ï¸</button>

                    {showSettings && (
                        <div className="fixed inset-0 z-[200] flex items-center justify-center p-4">
                            <div className="absolute inset-0 bg-slate-900/40 backdrop-blur-sm" onClick={() => setShowSettings(false)}></div>
                            <div className="relative bg-white rounded-[2rem] shadow-2xl w-full max-w-md p-8">
                                <h3 className="text-xl font-black mb-4">API Key è¨­å®š</h3>
                                <input type="password" value={customApiKey} onChange={(e) => setCustomApiKey(e.target.value)} placeholder="åœ¨æ­¤è²¼ä¸Šé‡‘é‘°..." className="w-full rounded-xl bg-slate-50 p-4 mb-4 border-2 border-transparent focus:border-indigo-400 outline-none" />
                                <button onClick={() => window.open('https://aistudio.google.com/app/apikey', '_blank')} className="w-full py-3 rounded-xl border-2 border-indigo-100 text-indigo-600 font-bold mb-4">ğŸš€ ç”³è«‹å…è²» API Key</button>
                                <button onClick={() => { localStorage.setItem('vibe_dreamer_api_key', customApiKey); setShowSettings(false); }} className="w-full py-4 bg-indigo-600 text-white rounded-xl font-black shadow-lg">ç¢ºèªä¸¦å„²å­˜</button>
                            </div>
                        </div>
                    )}

                    <div className="max-w-4xl mx-auto pt-20 px-6">
                        <header className="text-center mb-16">
                            <h1 className="text-5xl font-black text-slate-900 mb-2">Vibe <span className="text-indigo-600">Dreamer</span></h1>
                            <p className="text-slate-400 font-bold uppercase tracking-widest text-xs">Vibe Coding éˆæ„Ÿå·¥å…· (å–®æª”éƒ¨ç½²ç‰ˆ)</p>
                        </header>

                        <div className="space-y-10">
                            <section className="bg-white rounded-[2.5rem] p-10 shadow-sm border border-slate-100">
                                <h2 className="text-2xl font-black text-slate-800 mb-8 flex items-center">
                                    <span className="w-10 h-10 rounded-xl bg-indigo-600 text-white flex items-center justify-center mr-4 shadow-lg text-sm">1</span>
                                    å®šç¾©éˆé­‚
                                </h2>
                                <div className="space-y-6">
                                    <div>
                                        <label className="text-xs font-black text-slate-400 mb-2 block uppercase">å°ˆæ¡ˆåç¨±</label>
                                        <input type="text" value={form.task} onChange={(e) => setForm({...form, task: e.target.value})} placeholder="ä¾‹å¦‚ï¼šè²“å’ªé¤µé£Ÿæ©Ÿå™¨äººç¶²é " className="w-full rounded-xl bg-slate-50 py-4 px-6 border-2 border-transparent focus:border-indigo-400 outline-none font-bold" />
                                    </div>
                                    <div className="grid grid-cols-2 sm:grid-cols-4 gap-3">
                                        {Object.entries(ROLES_MAP).map(([key, data]) => (
                                            <button key={key} onClick={() => setForm({...form, roles: [key]})} className={`p-4 rounded-2xl border-2 transition-all ${form.roles.includes(key) ? 'bg-indigo-600 border-indigo-600 text-white' : 'bg-white border-slate-100 text-slate-400'}`}>
                                                <div className="text-2xl">{data.emoji}</div>
                                                <div className="text-[10px] font-black mt-1">{data.label}</div>
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </section>

                            <section className="bg-white rounded-[2.5rem] p-10 shadow-sm border border-slate-100">
                                <h2 className="text-2xl font-black text-slate-800 mb-8 flex items-center">
                                    <span className="w-10 h-10 rounded-xl bg-indigo-600 text-white flex items-center justify-center mr-4 shadow-lg text-sm">2</span>
                                    åŠŸèƒ½é¡˜æœ›
                                </h2>
                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-6">
                                    {COMMON_FEATURES.map(f => (
                                        <label key={f.id} className={`flex items-center p-4 rounded-2xl border-2 cursor-pointer transition-all ${form.selectedCommonFeatures.includes(f.id) ? 'bg-indigo-50 border-indigo-200' : 'border-slate-50'}`}>
                                            <input type="checkbox" checked={form.selectedCommonFeatures.includes(f.id)} onChange={() => setForm(prev => ({...prev, selectedCommonFeatures: prev.selectedCommonFeatures.includes(f.id) ? prev.selectedCommonFeatures.filter(id => id !== f.id) : [...prev.selectedCommonFeatures, f.id]}))} className="h-5 w-5 text-indigo-600" />
                                            <span className="ml-3 text-sm font-bold text-slate-600">{f.emoji} {f.label}</span>
                                        </label>
                                    ))}
                                </div>
                                <textarea rows={4} value={form.features} onChange={(e) => setForm({...form, features: e.target.value})} placeholder="é‚„æœ‰å…¶ä»–æƒ³åŠ å…¥çš„åŠŸèƒ½å—ï¼Ÿ" className="w-full rounded-2xl bg-slate-50 p-6 border-2 border-transparent focus:border-indigo-400 outline-none text-sm" />
                            </section>

                            <section className="bg-slate-900 rounded-[3rem] p-10 shadow-2xl relative overflow-hidden">
                                <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-pink-500"></div>
                                <div className="text-indigo-400 font-black text-[10px] tracking-widest uppercase mb-4">Prompt Preview</div>
                                <div className="bg-white/5 rounded-2xl p-6 border border-white/5 min-h-[150px] font-mono text-indigo-100/70 text-xs leading-relaxed whitespace-pre-wrap mb-8">
                                    {generatedPrompt}
                                </div>
                                <button onClick={async () => { await navigator.clipboard.writeText(generatedPrompt); setCopySuccess(true); setTimeout(()=>setCopySuccess(false), 2000); }} className={`w-full py-5 rounded-2xl font-black text-lg transition-all ${copySuccess ? 'bg-emerald-500' : 'bg-indigo-600'} text-white shadow-xl`}>
                                    {copySuccess ? "âœ… å·²è¤‡è£½æŒ‡ä»¤" : "è¤‡è£½æŒ‡ä»¤å»å• AI"}
                                </button>
                            </section>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
